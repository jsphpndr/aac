"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}}(),SlideNav=function(){function t(e){if(_classCallCheck(this,t),!e)e={};this.activeClass=e.activeClass||"active",this.toggleButtonSelector=e.toggleButtonSelector||!1,this.toggleBoxSelector=e.toggleBoxSelector||!1,this.speed=0<e.speed?e.speed:70,this.hideAfterSelect=e.hideBoxAfterSelect||!0,this.changeHash=e.changeHash||!1,this.navBoxToggleClass=e.navBoxToggleClass||!1,this.init()}return _createClass(t,[{key:"init",value:function(){this.scrollDoc=document.scrollingElement||document.documentElement,this.getElements(),this.observe(),this.setActiveAnchor()}},{key:"getElements",value:function(){this.toggleButton=document.querySelector(this.toggleButtonSelector),this.toggleButton&&(this.opened=!1),this.toggleBoxes=document.querySelectorAll(this.toggleBoxSelector),this.navAnchors=document.querySelectorAll('a:not([target="_blank"])')}},{key:"observe",value:function(){var o=this;window.addEventListener("click",function(e){!o.opened||o.isClosestElement(e.target,o.toggleButton)||o.isBoxNavTarget(e.target)||o.hideNavBox()}),this.toggleButton&&this.toggleButton.addEventListener("click",function(e){setTimeout(function(){o.opened?o.hideNavBox():o.showNavBox()})});var e=!0,t=!1,r=void 0;try{for(var n,l=this.navAnchors[Symbol.iterator]();!(e=(n=l.next()).done);e=!0){n.value.addEventListener("click",function(e){e.preventDefault();var t=o.getHash(e.currentTarget.href);!o.goToSection(t)&&e.currentTarget.href&&o.goToUrl(e.currentTarget.href)})}}catch(o){t=!0,r=o}finally{try{!e&&l.return&&l.return()}finally{if(t)throw r}}window.addEventListener("scroll",function(){o.setActiveAnchor()})}},{key:"setActiveAnchor",value:function(){var e=!0,t=!1,o=void 0;try{for(var r,n=this.navAnchors[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var l=r.value,i=this.getHash(l.href),s=this.getSection(i),a=this.scrollDoc.scrollTop,c=this.scrollDoc.scrollHeight;if(s&&(s.offsetTop<=a&&s.offsetTop+s.offsetHeight>a||a+window.innerHeight==c)){var u=!0,h=!1,v=void 0;try{for(var f,g=this.navAnchors[Symbol.iterator]();!(u=(f=g.next()).done);u=!0){var d=f.value;d.href!=l.href&&d.classList.remove("active")}}catch(e){h=!0,v=e}finally{try{!u&&g.return&&g.return()}finally{if(h)throw v}}l.classList.add("active")}}}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}}},{key:"goToSection",value:function(e){var t=this.getSection(e);if(t){var o=t.offsetTop;return this.scrollTo(o,this.speed),this.hideAfterSelect&&this.hideNavBox(),this.changeHash&&history.pushState({},null,"#"+e),!0}return!1}},{key:"scrollTo",value:function(e,t){var o=this,r=(e-this.scrollDoc.scrollTop)/t*1;t<=0||setTimeout(function(){o.scrollDoc.scrollTop=o.scrollDoc.scrollTop+r,o.scrollDoc.scrollTop!=e&&o.scrollTo(e,t-1)},1)}},{key:"goToUrl",value:function(e){return window.location=e}},{key:"getSection",value:function(e){if(e){var t="#"+e;return document.querySelector(t)}return!1}},{key:"getHash",value:function(e){return e.split("#")[1]}},{key:"isBoxNavTarget",value:function(e){var t=!1,o=!0,r=!1,n=void 0;try{for(var l,i=this.toggleBoxes[Symbol.iterator]();!(o=(l=i.next()).done);o=!0){var s=l.value;this.isClosestElement(e,s)&&(t=!0)}}catch(e){r=!0,n=e}finally{try{!o&&i.return&&i.return()}finally{if(r)throw n}}return t}},{key:"isClosestElement",value:function(e,t){for(;t!=e;)if(!(e=e.parentNode))return!1;return!0}},{key:"hideNavBox",value:function(){var e=!0,t=!1,o=void 0;try{for(var r,n=this.toggleBoxes[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var l=r.value;this.navBoxToggleClass?l.classList.remove(this.navBoxToggleClass):l.style.display="none"}}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}this.opened=!1}},{key:"showNavBox",value:function(){var e=!0,t=!1,o=void 0;try{for(var r,n=this.toggleBoxes[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var l=r.value;this.navBoxToggleClass?l.classList.add(this.navBoxToggleClass):l.style.display="block"}}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}this.opened=!0}}]),t}(),nav=new SlideNav;